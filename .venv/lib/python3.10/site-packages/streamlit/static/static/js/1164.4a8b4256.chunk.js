"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[1164],{49839:function(e,t,n){n.r(t),n.d(t,{default:function(){return Mt}});var i=n(50189),r=n(11026),a=n(66845),o=n(35396),l=n(17330),u=n(57463),d=n(97943),s=n(41342),c=n(17875),f=n(87814),m=n(62622),v=n(16295),g=n(50641),h=n(25621),p=n(34367),b=n(31011),y=n(21e3),w=n(68411),x=n(9003),C=n(81354),Z=n(46927),M=n(66694),E=n(64649),k=n(1515),T=n(27466),N=(0,k.Z)("div",{target:"e2wxzia1"})((function(e){var t=e.theme,n=e.locked,r=e.target;return(0,i.Z)({padding:"0.5rem 0 0.5rem 0.5rem",position:"absolute",top:n?"-2.4rem":"-1rem",right:t.spacing.none,transition:"none"},!n&&(0,i.Z)({opacity:0,"&:active, &:focus-visible, &:hover":{transition:"opacity 150ms 100ms, top 100ms 100ms",opacity:1,top:"-2.4rem"}},r&&(0,E.Z)({},"".concat(r,":hover &, ").concat(r,":active &, ").concat(r,":focus-visible &"),{transition:"opacity 150ms 100ms, top 100ms 100ms",opacity:1,top:"-2.4rem"})))}),""),R=(0,k.Z)("div",{target:"e2wxzia0"})((function(e){var t=e.theme;return{color:(0,T.Iy)(t)?t.colors.fadedText60:t.colors.bodyText,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",boxShadow:"1px 2px 8px rgba(0, 0, 0, 0.08)",borderRadius:t.radii.lg,backgroundColor:t.colors.lightenedBg05,width:"fit-content",zIndex:t.zIndices.sidebar+1}}),""),S=n(40864);function _(e){var t=e.label,n=e.show_label,i=e.icon,r=e.onClick,a=(0,h.u)(),o=n?t:"";return(0,S.jsx)("div",{"data-testid":"stElementToolbarButton",children:(0,S.jsx)(w.Z,{content:(0,S.jsx)(y.ZP,{source:t,allowHTML:!1,style:{fontSize:a.fontSizes.sm}}),placement:w.u.TOP,onMouseEnterDelay:1e3,inline:!0,children:(0,S.jsxs)(x.ZP,{onClick:function(e){r&&r(),e.stopPropagation()},kind:C.nW.ELEMENT_TOOLBAR,children:[i&&(0,S.jsx)(Z.Z,{content:i,size:"md",testid:"stElementToolbarButtonIcon"}),o&&(0,S.jsx)("span",{children:o})]})})})}var O=function(e){var t=e.onExpand,n=e.onCollapse,i=e.isFullScreen,r=e.locked,o=e.children,l=e.target,u=a.useContext(M.E).libConfig;return(0,S.jsx)(N,{className:"stElementToolbar","data-testid":"stElementToolbar",locked:r||i,target:l,children:(0,S.jsxs)(R,{children:[o,t&&!u.disableFullscreenMode&&!i&&(0,S.jsx)(_,{label:"Fullscreen",icon:p.i,onClick:function(){return t()}}),n&&!u.disableFullscreenMode&&i&&(0,S.jsx)(_,{label:"Close fullscreen",icon:b.m,onClick:function(){return n()}})]})})},I=n(22951),D=n(91976),A=n(72706),H=n(29724),V=n.n(H),z=n(52347),F=n(53608),j=n.n(F),L=(n(87717),n(55842),["true","t","yes","y","on","1"]),W=["false","f","no","n","off","0"];function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e="\u26a0\ufe0f ".concat(e),{kind:o.p6.Text,readonly:!0,allowOverlay:!0,data:e+(t?"\n\n".concat(t,"\n"):""),displayData:e,isError:!0}}function Y(e){return e.hasOwnProperty("isError")&&e.isError}function P(e){return e.hasOwnProperty("isMissingValue")&&e.isMissingValue}function q(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?{kind:o.p6.Loading,allowOverlay:!1,isMissingValue:!0}:{kind:o.p6.Loading,allowOverlay:!1}}function J(e){return(0,i.Z)((0,i.Z)({id:e.id,title:e.title,hasMenu:!1,themeOverride:e.themeOverride,icon:e.icon},e.isStretched&&{grow:e.isIndex?1:3}),e.width&&{width:e.width})}function K(e,t){return(0,g.le)(e)?t||{}:(0,g.le)(t)?e||{}:(0,A.merge)(e,t)}function G(e){if((0,g.le)(e))return[];if("number"===typeof e||"boolean"===typeof e)return[e];if("string"===typeof e){if(""===e)return[];if(!e.trim().startsWith("[")||!e.trim().endsWith("]"))return e.split(",");try{return JSON.parse(e)}catch(n){return[e]}}try{var t=JSON.parse(JSON.stringify(e,(function(e,t){return"bigint"===typeof t?Number(t):t})));return(0,A.isArray)(t)?t.map((function(e){return["string","number","boolean","null"].includes(typeof e)?e:U(e)})):[U(t)]}catch(n){return[U(e)]}}function U(e){try{try{return(0,A.toString)(e)}catch(t){return JSON.stringify(e,(function(e,t){return"bigint"===typeof t?Number(t):t}))}}catch(t){return"[".concat(typeof e,"]")}}function X(e){if((0,g.le)(e))return null;if("boolean"===typeof e)return e;var t=U(e).toLowerCase().trim();return""===t?null:!!L.includes(t)||!W.includes(t)&&void 0}function Q(e){if((0,g.le)(e))return null;if((0,A.isArray)(e))return NaN;if("string"===typeof e){if(0===e.trim().length)return null;try{var t=V().unformat(e.trim());if((0,g.bb)(t))return t}catch(n){}}else if(e instanceof Int32Array)return Number(e[0]);return Number(e)}function $(e,t,n){return Number.isNaN(e)||!Number.isFinite(e)?"":(0,g.le)(t)||""===t?(0===n&&(e=Math.round(e)),V()(e).format((0,g.bb)(n)?"0,0.".concat("0".repeat(n)):"0,0.[0000]")):"percent"===t?new Intl.NumberFormat(void 0,{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e):["compact","scientific","engineering"].includes(t)?new Intl.NumberFormat(void 0,{notation:t}).format(e):(0,z.sprintf)(t,e)}function ee(e,t){return"locale"===t?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"medium"}).format(e.toDate()):"distance"===t?e.fromNow():"relative"===t?e.calendar():e.format(t)}function te(e){if((0,g.le)(e))return null;if(e instanceof Date)return isNaN(e.getTime())?void 0:e;if("string"===typeof e&&0===e.trim().length)return null;try{var t=Number(e);if(!isNaN(t)){var n=t;t>=Math.pow(10,18)?n=t/Math.pow(1e3,3):t>=Math.pow(10,15)?n=t/Math.pow(1e3,2):t>=Math.pow(10,12)&&(n=t/1e3);var i=j().unix(n).utc();if(i.isValid())return i.toDate()}if("string"===typeof e){var r=j().utc(e);if(r.isValid())return r.toDate();var a=j().utc(e,[j().HTML5_FMT.TIME_MS,j().HTML5_FMT.TIME_SECONDS,j().HTML5_FMT.TIME]);if(a.isValid())return a.toDate()}}catch(o){return}}function ne(e){if(e%1===0)return 0;var t=e.toString();return-1!==t.indexOf("e")&&(t=e.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20})),-1===t.indexOf(".")?0:t.split(".")[1].length}var ie=new RegExp(/(\r\n|\n|\r)/gm);function re(e){return-1!==e.indexOf("\n")?e.replace(ie," "):e}var ae=n(23849),oe=n(5834);function le(e){var t={kind:o.p6.Text,data:"",displayData:"",allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!0,style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"object",sortMode:"default",isEditable:!1,getCell:function(e){try{var n=(0,g.bb)(e)?U(e):null,r=(0,g.bb)(n)?re(n):"";return(0,i.Z)((0,i.Z)({},t),{},{data:n,displayData:r,isMissingValue:(0,g.le)(e)})}catch(a){return B(U(e),"The value cannot be interpreted as a string. Error: ".concat(a))}},getCellValue:function(e){return void 0===e.data?null:e.data}})}le.isEditableType=!1;var ue=le;function de(e){var t=e.columnTypeOptions||{},n=void 0;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(l){n="Invalid validate regex: ".concat(t.validate,".\nError: ").concat(l)}var r={kind:o.p6.Text,data:"",displayData:"",allowOverlay:!0,contentAlignment:e.contentAlignment,readonly:!e.isEditable,style:e.isIndex?"faded":"normal"},a=function(i){if((0,g.le)(i))return!e.isRequired;var r=U(i),a=!1;return t.max_chars&&r.length>t.max_chars&&(r=r.slice(0,t.max_chars),a=!0),!(n instanceof RegExp&&!1===n.test(r))&&(!a||r)};return(0,i.Z)((0,i.Z)({},e),{},{kind:"text",sortMode:"default",validateInput:a,getCell:function(e,t){if("string"===typeof n)return B(U(e),n);if(t){var o=a(e);if(!1===o)return B(U(e),"Invalid input.");"string"===typeof o&&(e=o)}try{var u=(0,g.bb)(e)?U(e):null,d=(0,g.bb)(u)?re(u):"";return(0,i.Z)((0,i.Z)({},r),{},{isMissingValue:(0,g.le)(u),data:u,displayData:d})}catch(l){return B("Incompatible value","The value cannot be interpreted as string. Error: ".concat(l))}},getCellValue:function(e){return void 0===e.data?null:e.data}})}de.isEditableType=!0;var se=de;function ce(e,t){return e=t.startsWith("+")||t.startsWith("-")?e.utcOffset(t,!1):e.tz(t)}function fe(e,t,n,r,a,l,u){var d,s=K({format:n,step:r,timezone:u},t.columnTypeOptions),c=void 0;if((0,g.bb)(s.timezone))try{var f;c=(null===(f=ce(j()(),s.timezone))||void 0===f?void 0:f.utcOffset())||void 0}catch(b){}var m=void 0;(0,g.bb)(s.min_value)&&(m=te(s.min_value)||void 0);var v=void 0;(0,g.bb)(s.max_value)&&(v=te(s.max_value)||void 0);var h={kind:o.p6.Custom,allowOverlay:!0,copyData:"",readonly:!t.isEditable,contentAlign:t.contentAlignment,style:t.isIndex?"faded":"normal",data:{kind:"date-picker-cell",date:void 0,displayDate:"",step:(null===(d=s.step)||void 0===d?void 0:d.toString())||"1",format:a,min:m,max:v}},p=function(e){var n=te(e);return null===n?!t.isRequired:void 0!==n&&(!((0,g.bb)(m)&&l(n)<l(m))&&!((0,g.bb)(v)&&l(n)>l(v)))};return(0,i.Z)((0,i.Z)({},t),{},{kind:e,sortMode:"default",validateInput:p,getCell:function(e,t){if(!0===t){var r=p(e);if(!1===r)return B(U(e),"Invalid input.");r instanceof Date&&(e=r)}var a=te(e),o="",l="",u=c;if(void 0===a)return B(U(e),"The value cannot be interpreted as a datetime object.");if(null!==a){var d=j().utc(a);if(!d.isValid())return B(U(a),"This should never happen. Please report this bug. \nError: ".concat(d.toString()));if(s.timezone){try{d=ce(d,s.timezone)}catch(b){return B(d.toISOString(),"Failed to adjust to the provided timezone: ".concat(s.timezone,". \nError: ").concat(b))}u=d.utcOffset()}try{l=ee(d,s.format||n)}catch(b){return B(d.toISOString(),"Failed to format the date for rendering with: ".concat(s.format,". \nError: ").concat(b))}o=ee(d,n)}return(0,i.Z)((0,i.Z)({},h),{},{copyData:o,isMissingValue:(0,g.le)(a),data:(0,i.Z)((0,i.Z)({},h.data),{},{date:a,displayDate:l,timezoneOffset:u})})},getCellValue:function(e){var t;return(0,g.le)(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.date)?null:l(e.data.date)}})}function me(e){var t,n,i,r,a,o="YYYY-MM-DD HH:mm:ss";(null===(t=e.columnTypeOptions)||void 0===t?void 0:t.step)>=60?o="YYYY-MM-DD HH:mm":(null===(n=e.columnTypeOptions)||void 0===n?void 0:n.step)<1&&(o="YYYY-MM-DD HH:mm:ss.SSS");var l=null===(i=e.arrowType)||void 0===i||null===(r=i.meta)||void 0===r?void 0:r.timezone,u=(0,g.bb)(l)||(0,g.bb)(null===e||void 0===e||null===(a=e.columnTypeOptions)||void 0===a?void 0:a.timezone);return fe("datetime",e,u?o+"Z":o,1,"datetime-local",(function(e){return u?e.toISOString():e.toISOString().replace("Z","")}),l)}function ve(e){var t,n,i="HH:mm:ss";return(null===(t=e.columnTypeOptions)||void 0===t?void 0:t.step)>=60?i="HH:mm":(null===(n=e.columnTypeOptions)||void 0===n?void 0:n.step)<1&&(i="HH:mm:ss.SSS"),fe("time",e,i,1,"time",(function(e){return e.toISOString().split("T")[1].replace("Z","")}))}function ge(e){return fe("date",e,"YYYY-MM-DD",1,"date",(function(e){return e.toISOString().split("T")[0]}))}function he(e){var t={kind:o.p6.Boolean,data:!1,allowOverlay:!1,contentAlign:e.contentAlignment,readonly:!e.isEditable,style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"checkbox",sortMode:"default",getCell:function(e){var n;return void 0===(n=X(e))?B(U(e),"The value cannot be interpreted as boolean."):(0,i.Z)((0,i.Z)({},t),{},{data:n,isMissingValue:(0,g.le)(n)})},getCellValue:function(e){return void 0===e.data?null:e.data}})}me.isEditableType=!0,ve.isEditableType=!0,ge.isEditableType=!0,he.isEditableType=!0;var pe=he;function be(e){return e.startsWith("int")&&!e.startsWith("interval")||"range"===e||e.startsWith("uint")}function ye(e){var t=oe.fu.getTypeName(e.arrowType),n=K({step:be(t)?1:void 0,min_value:t.startsWith("uint")?0:void 0},e.columnTypeOptions),r=(0,g.le)(n.min_value)||n.min_value<0,a=(0,g.bb)(n.step)&&!Number.isNaN(n.step)?ne(n.step):void 0,l={kind:o.p6.Number,data:void 0,displayData:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment||"right",style:e.isIndex?"faded":"normal",allowNegative:r,fixedDecimals:a},u=function(t){var i=Q(t);if((0,g.le)(i))return!e.isRequired;if(Number.isNaN(i))return!1;var r=!1;return(0,g.bb)(n.max_value)&&i>n.max_value&&(i=n.max_value,r=!0),!((0,g.bb)(n.min_value)&&i<n.min_value)&&(!r||i)};return(0,i.Z)((0,i.Z)({},e),{},{kind:"number",sortMode:"smart",validateInput:u,getCell:function(e,t){if(!0===t){var r=u(e);if(!1===r)return B(U(e),"Invalid input.");"number"===typeof r&&(e=r)}var o,d,s=Q(e),c="";if((0,g.bb)(s)){if(Number.isNaN(s))return B(U(e),"The value cannot be interpreted as a number.");if((0,g.bb)(a)&&(o=s,s=0===(d=a)?Math.trunc(o):Math.trunc(o*Math.pow(10,d))/Math.pow(10,d)),Number.isInteger(s)&&!Number.isSafeInteger(s))return B(U(e),"The value is larger than the maximum supported integer values in number columns (2^53).");try{c=$(s,n.format,a)}catch(f){return B(U(s),(0,g.bb)(n.format)?"Failed to format the number based on the provided format configuration: (".concat(n.format,"). Error: ").concat(f):"Failed to format the number. Error: ".concat(f))}}return(0,i.Z)((0,i.Z)({},l),{},{data:s,displayData:c,isMissingValue:(0,g.le)(s)})},getCellValue:function(e){return void 0===e.data?null:e.data}})}ye.isEditableType=!0;var we=ye,xe=n(649);function Ce(e){var t="string",n=K({options:"bool"===oe.fu.getTypeName(e.arrowType)?[!0,!1]:[]},e.columnTypeOptions),r=new Set(n.options.map((function(e){return typeof e})));1===r.size&&(r.has("number")||r.has("bigint")?t="number":r.has("boolean")&&(t="boolean"));var a={kind:o.p6.Custom,allowOverlay:!0,copyData:"",contentAlign:e.contentAlignment,readonly:!e.isEditable,data:{kind:"dropdown-cell",allowedValues:[].concat((0,xe.Z)(!0!==e.isRequired?[null]:[]),(0,xe.Z)(n.options.filter((function(e){return null!==e&&""!==e})).map((function(e){return U(e)})))),value:"",readonly:!e.isEditable}};return(0,i.Z)((0,i.Z)({},e),{},{kind:"selectbox",sortMode:"default",getCell:function(e,t){var n=null;return(0,g.bb)(e)&&""!==e&&(n=U(e)),t&&!a.data.allowedValues.includes(n)?B(U(n),"The value is not part of the allowed options."):(0,i.Z)((0,i.Z)({},a),{},{isMissingValue:null===n,copyData:n||"",data:(0,i.Z)((0,i.Z)({},a.data),{},{value:n})})},getCellValue:function(e){var n,i,r,a,o,l,u;return(0,g.le)(null===(n=e.data)||void 0===n?void 0:n.value)||""===(null===(i=e.data)||void 0===i?void 0:i.value)?null:"number"===t?null!==(a=Q(null===(o=e.data)||void 0===o?void 0:o.value))&&void 0!==a?a:null:"boolean"===t?null!==(l=X(null===(u=e.data)||void 0===u?void 0:u.value))&&void 0!==l?l:null:null===(r=e.data)||void 0===r?void 0:r.value}})}Ce.isEditableType=!0;var Ze=Ce;function Me(e){var t={kind:o.p6.Bubble,data:[],allowOverlay:!0,contentAlign:e.contentAlignment,style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"list",sortMode:"default",isEditable:!1,getCell:function(e){var n=(0,g.le)(e)?[]:G(e);return(0,i.Z)((0,i.Z)({},t),{},{data:n,isMissingValue:(0,g.le)(e),copyData:(0,g.le)(e)?"":U(n.map((function(e){return(0,A.isString)(e)&&e.includes(",")?e.replace(/,/g," "):e})))})},getCellValue:function(e){return(0,g.le)(e.data)||P(e)?null:e.data}})}Me.isEditableType=!1;var Ee=Me;function ke(e,t,n){var i=new RegExp("".concat(e,"[,\\s].*{(?:[^}]*[\\s;]{1})?").concat(t,":\\s*([^;}]+)[;]?.*}"),"gm");n=n.replace(/{/g," {");var r=i.exec(n);if(r)return r[1].trim()}function Te(e,t){var n=e.types.index[t],i=e.indexNames[t],r=!0;return"range"===oe.fu.getTypeName(n)&&(r=!1),{id:"index-".concat(t),name:i,title:i,isEditable:r,arrowType:n,isIndex:!0,isHidden:!1}}function Ne(e,t){var n,i=e.columns[0][t],r=e.types.data[t];if((0,g.le)(r)&&(r={meta:null,numpy_type:"object",pandas_type:"object"}),"categorical"===oe.fu.getTypeName(r)){var a=e.getCategoricalOptions(t);(0,g.bb)(a)&&(n={options:a})}return{id:"column-".concat(i,"-").concat(t),name:i,title:i,isEditable:!0,arrowType:r,columnTypeOptions:n,isIndex:!1,isHidden:!1}}function Re(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=e.arrowType?oe.fu.getTypeName(e.arrowType):null;if("object"===e.kind)n=e.getCell((0,g.bb)(t.content)?re(oe.fu.format(t.content,t.contentType,t.field)):null);else if(["time","date","datetime"].includes(e.kind)&&(0,g.bb)(t.content)&&("number"===typeof t.content||"bigint"===typeof t.content)){var l,u,d;d="time"===a&&(0,g.bb)(null===(l=t.field)||void 0===l||null===(u=l.type)||void 0===u?void 0:u.unit)?j().unix(oe.fu.adjustTimestamp(t.content,t.field)).utc().toDate():j().utc(Number(t.content)).toDate(),n=e.getCell(d)}else if("decimal"===a){var s=(0,g.le)(t.content)?null:oe.fu.format(t.content,t.contentType,t.field);n=e.getCell(s)}else n=e.getCell(t.content);if(Y(n))return n;if(!e.isEditable){if((0,g.bb)(t.displayContent)){var c,f=re(t.displayContent);n.kind===o.p6.Text||n.kind===o.p6.Number?n=(0,i.Z)((0,i.Z)({},n),{},{displayData:f}):n.kind===o.p6.Custom&&"date-picker-cell"===(null===(c=n.data)||void 0===c?void 0:c.kind)&&(n=(0,i.Z)((0,i.Z)({},n),{},{data:(0,i.Z)((0,i.Z)({},n.data),{},{displayDate:f})}))}r&&t.cssId&&(n=function(e,t,n){var r={},a=ke(t,"color",n);a&&(r.textDark=a);var o=ke(t,"background-color",n);return o&&(r.bgCell=o),"yellow"===o&&void 0===a&&(r.textDark="#31333F"),r?(0,i.Z)((0,i.Z)({},e),{},{themeOverride:r}):e}(n,t.cssId,r))}return n}function Se(e){var t=e.columnTypeOptions||{},n=void 0;if(t.validate)try{n=new RegExp(t.validate,"us")}catch(l){n="Invalid validate regex: ".concat(t.validate,".\nError: ").concat(l)}var r={kind:o.p6.Uri,data:"",readonly:!e.isEditable,allowOverlay:!0,contentAlign:e.contentAlignment,style:e.isIndex?"faded":"normal"},a=function(i){if((0,g.le)(i))return!e.isRequired;var r=U(i),a=!1;return t.max_chars&&r.length>t.max_chars&&(r=r.slice(0,t.max_chars),a=!0),!(n instanceof RegExp&&!1===n.test(r))&&(!a||r)};return(0,i.Z)((0,i.Z)({},e),{},{kind:"link",sortMode:"default",validateInput:a,getCell:function(e,t){if("string"===typeof n)return B(U(e),n);if(t){var o=a(e);if(!1===o)return B(U(e),"Invalid input.");"string"===typeof o&&(e=o)}return(0,i.Z)((0,i.Z)({},r),{},{data:(0,g.bb)(e)?U(e):null,isMissingValue:(0,g.le)(e)})},getCellValue:function(e){return void 0===e.data?null:e.data}})}Se.isEditableType=!0;var _e=Se;function Oe(e){var t={kind:o.p6.Image,data:[],displayData:[],allowAdd:!1,allowOverlay:!0,contentAlign:e.contentAlignment||"center",style:e.isIndex?"faded":"normal"};return(0,i.Z)((0,i.Z)({},e),{},{kind:"image",sortMode:"default",isEditable:!1,getCell:function(e){var n=(0,g.bb)(e)?[U(e)]:[];return(0,i.Z)((0,i.Z)({},t),{},{data:n,isMissingValue:!(0,g.bb)(e),displayData:n})},getCellValue:function(e){return void 0===e.data||0===e.data.length?null:e.data[0]}})}Oe.isEditableType=!1;var Ie=Oe;function De(e){var t,n=be(oe.fu.getTypeName(e.arrowType)),r=K({min_value:0,max_value:n?100:1,step:n?1:.01,format:n?"%3d%%":"percent"},e.columnTypeOptions);try{t=$(r.max_value,r.format)}catch(u){t=U(r.max_value)}var a=(0,g.le)(r.step)||Number.isNaN(r.step)?void 0:ne(r.step),l={kind:o.p6.Custom,allowOverlay:!1,copyData:"",contentAlign:e.contentAlignment,data:{kind:"range-cell",min:r.min_value,max:r.max_value,step:r.step,value:r.min_value,label:String(r.min_value),measureLabel:t,readonly:!0}};return(0,i.Z)((0,i.Z)({},e),{},{kind:"progress",sortMode:"smart",isEditable:!1,getCell:function(e){if((0,g.le)(e))return q();if((0,g.le)(r.min_value)||(0,g.le)(r.max_value)||Number.isNaN(r.min_value)||Number.isNaN(r.max_value)||r.min_value>=r.max_value)return B("Invalid min/max parameters","The min_value (".concat(r.min_value,") and max_value (").concat(r.max_value,") parameters must be valid numbers."));if((0,g.le)(r.step)||Number.isNaN(r.step))return B("Invalid step parameter","The step parameter (".concat(r.step,") must be a valid number."));var t=Q(e);if(Number.isNaN(t)||(0,g.le)(t))return B(U(e),"The value cannot be interpreted as a number.");if(Number.isInteger(t)&&!Number.isSafeInteger(t))return B(U(e),"The value is larger than the maximum supported integer values in number columns (2^53).");var n="";try{n=$(t,r.format,a)}catch(u){return B(U(t),(0,g.bb)(r.format)?"Failed to format the number based on the provided format configuration: (".concat(r.format,"). Error: ").concat(u):"Failed to format the number. Error: ".concat(u))}var o=Math.min(r.max_value,Math.max(r.min_value,t));return(0,i.Z)((0,i.Z)({},l),{},{isMissingValue:(0,g.le)(e),copyData:String(t),data:(0,i.Z)((0,i.Z)({},l.data),{},{value:o,label:n})})},getCellValue:function(e){var t,n;return e.kind===o.p6.Loading||void 0===(null===(t=e.data)||void 0===t?void 0:t.value)?null:null===(n=e.data)||void 0===n?void 0:n.value}})}De.isEditableType=!1;var Ae=De;function He(e,t,n){var r=K({y_min:0,y_max:1},t.columnTypeOptions),a={kind:o.p6.Custom,allowOverlay:!1,copyData:"",contentAlign:t.contentAlignment,data:{kind:"sparkline-cell",values:[],displayValues:[],graphKind:n,yAxis:[r.y_min,r.y_max]}};return(0,i.Z)((0,i.Z)({},t),{},{kind:e,sortMode:"default",isEditable:!1,getCell:function(e){if((0,g.le)(r.y_min)||(0,g.le)(r.y_max)||Number.isNaN(r.y_min)||Number.isNaN(r.y_max)||r.y_min>=r.y_max)return B("Invalid min/max y-axis configuration","The y_min (".concat(r.y_min,") and y_max (").concat(r.y_max,") configuration options must be valid numbers."));if((0,g.le)(e))return q();var t=G(e),o=[],l=[];if(0===t.length)return q();for(var u=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,s=0;s<t.length;s++){var c=Q(t[s]);if(Number.isNaN(c)||(0,g.le)(c))return B(U(t),"The value cannot be interpreted as a numeric array. ".concat(U(c)," is not a number."));c>u&&(u=c),c<d&&(d=c),o.push(c)}return"line"===n&&o.length<=2?q():(l=o.length>0&&(u>r.y_max||d<r.y_min)?o.map((function(e){return u-d===0?u>(r.y_max||1)?r.y_max||1:r.y_min||0:((r.y_max||1)-(r.y_min||0))*((e-d)/(u-d))+(r.y_min||0)})):o,(0,i.Z)((0,i.Z)({},a),{},{copyData:o.join(","),data:(0,i.Z)((0,i.Z)({},a.data),{},{values:l,displayValues:o.map((function(e){return $(e)}))}),isMissingValue:(0,g.le)(e)}))},getCellValue:function(e){var t,n;return e.kind===o.p6.Loading||void 0===(null===(t=e.data)||void 0===t?void 0:t.values)?null:null===(n=e.data)||void 0===n?void 0:n.values}})}function Ve(e){return He("line_chart",e,"line")}function ze(e){return He("bar_chart",e,"bar")}Ve.isEditableType=!1,ze.isEditableType=!1;var Fe=new Map(Object.entries({object:ue,text:se,checkbox:pe,selectbox:Ze,list:Ee,number:we,link:_e,datetime:me,date:ge,time:ve,line_chart:Ve,bar_chart:ze,image:Ie,progress:Ae})),je=[],Le="_index",We="_pos:",Be={small:75,medium:200,large:400};function Ye(e){if(!(0,g.le)(e))return"number"===typeof e?e:e in Be?Be[e]:void 0}function Pe(e){var t,n,i=null===(t=e.columnTypeOptions)||void 0===t?void 0:t.type;return(0,g.bb)(i)&&(Fe.has(i)?n=Fe.get(i):(0,ae.KE)("Unknown column type configured in column configuration: ".concat(i))),(0,g.le)(n)&&(n=function(e){var t=e?oe.fu.getTypeName(e):null;return t?(t=t.toLowerCase().trim(),["unicode","empty"].includes(t)?se:["datetime","datetimetz"].includes(t)?me:"time"===t?ve:"date"===t?ge:["object","bytes"].includes(t)?ue:["bool"].includes(t)?pe:["int8","int16","int32","int64","uint8","uint16","uint32","uint64","float16","float32","float64","float96","float128","range","decimal"].includes(t)?we:"categorical"===t?Ze:t.startsWith("list")?Ee:ue):ue}(e.arrowType)),n}var qe=function(e,t,n){var r=a.useMemo((function(){return function(e){if(!e)return new Map;try{return new Map(Object.entries(JSON.parse(e)))}catch(t){return(0,ae.H)(t),new Map}}(e.columns)}),[e.columns]),o=e.useContainerWidth||(0,g.bb)(e.width)&&e.width>0;return{columns:a.useMemo((function(){var a=function(e){var t,n,r,a,o,l,u=[],d=null!==(t=null===(n=e.types)||void 0===n||null===(r=n.index)||void 0===r?void 0:r.length)&&void 0!==t?t:0,s=null!==(a=null===(o=e.columns)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.length)&&void 0!==a?a:0;if(0===d&&0===s)return u.push({id:"empty-index",title:"",indexNumber:0,isEditable:!1,isIndex:!0}),u;for(var c=0;c<d;c++){var f=(0,i.Z)((0,i.Z)({},Te(e,c)),{},{indexNumber:c});u.push(f)}for(var m=0;m<s;m++){var v=(0,i.Z)((0,i.Z)({},Ne(e,m)),{},{indexNumber:m+d});u.push(v)}return u}(t).map((function(t){var a=(0,i.Z)((0,i.Z)((0,i.Z)({},t),function(e,t){return t?(t.has(e.name)&&e.name!==Le?n=t.get(e.name):t.has("".concat(We).concat(e.indexNumber))?n=t.get("".concat(We).concat(e.indexNumber)):e.isIndex&&t.has(Le)&&(n=t.get(Le)),n?(0,A.merge)((0,i.Z)({},e),{title:n.label,width:Ye(n.width),isEditable:(0,g.bb)(n.disabled)?!n.disabled:void 0,isHidden:n.hidden,isRequired:n.required,columnTypeOptions:n.type_config,contentAlignment:n.alignment,defaultValue:n.default,help:n.help}):e):e;var n}(t,r)),{},{isStretched:o}),l=Pe(a);return(e.editingMode===v.Eh.EditingMode.READ_ONLY||n||!1===l.isEditableType)&&(a=(0,i.Z)((0,i.Z)({},a),{},{isEditable:!1})),e.editingMode!==v.Eh.EditingMode.READ_ONLY&&1==a.isEditable&&(a=(0,i.Z)((0,i.Z)({},a),{},{icon:"editable"})),l(a)})).filter((function(e){return!e.isHidden}));if(e.columnOrder&&e.columnOrder.length>0){var l=[];a.forEach((function(e){e.isIndex&&l.push(e)})),e.columnOrder.forEach((function(e){var t=a.find((function(t){return t.name===e}));t&&!t.isIndex&&l.push(t)})),a=l}return a.length>0?a:[ue({id:"empty-index",title:"",indexNumber:0,isEditable:!1,isIndex:!0})]}),[t,r,o,n,e.editingMode,e.columnOrder])}};function Je(e){return e.isIndex?Le:(0,g.le)(e.name)?"":e.name}var Ke=function(){function e(t){(0,I.Z)(this,e),this.editedCells=new Map,this.addedRows=[],this.deletedRows=[],this.numRows=0,this.numRows=t}return(0,D.Z)(e,[{key:"toJson",value:function(e){var t=new Map;e.forEach((function(e){t.set(e.indexNumber,e)}));var n={edited_rows:{},added_rows:[],deleted_rows:[]};return this.editedCells.forEach((function(e,i,r){var a={};e.forEach((function(e,n,i){var r=t.get(n);r&&(a[Je(r)]=r.getCellValue(e))})),n.edited_rows[i]=a})),this.addedRows.forEach((function(e){var i={},r=!1;e.forEach((function(e,n,a){var o=t.get(n);if(o){var l=o.getCellValue(e);o.isRequired&&o.isEditable&&P(e)&&(r=!0),(0,g.bb)(l)&&(i[Je(o)]=l)}})),r||n.added_rows.push(i)})),n.deleted_rows=this.deletedRows,JSON.stringify(n,(function(e,t){return void 0===t?null:t}))}},{key:"fromJson",value:function(e,t){var n=this;this.editedCells=new Map,this.addedRows=[],this.deletedRows=[];var i=JSON.parse(e),r=new Map;t.forEach((function(e){r.set(e.indexNumber,e)}));var a=new Map;t.forEach((function(e){a.set(Je(e),e)})),Object.keys(i.edited_rows).forEach((function(e){var t=Number(e),r=i.edited_rows[e];Object.keys(r).forEach((function(e){var i=r[e],o=a.get(e);if(o){var l,u=o.getCell(i);if(u)n.editedCells.has(t)||n.editedCells.set(t,new Map),null===(l=n.editedCells.get(t))||void 0===l||l.set(o.indexNumber,u)}}))})),i.added_rows.forEach((function(e){var t=new Map;Object.keys(e).forEach((function(n){var i=e[n],r=a.get(n);if(r){var o=r.getCell(i);o&&t.set(r.indexNumber,o)}})),n.addedRows.push(t)})),this.deletedRows=i.deleted_rows}},{key:"isAddedRow",value:function(e){return e>=this.numRows}},{key:"getCell",value:function(e,t){if(this.isAddedRow(t))return this.addedRows[t-this.numRows].get(e);var n=this.editedCells.get(t);return void 0!==n?n.get(e):void 0}},{key:"setCell",value:function(e,t,n){if(this.isAddedRow(t)){if(t-this.numRows>=this.addedRows.length)return;this.addedRows[t-this.numRows].set(e,n)}else{void 0===this.editedCells.get(t)&&this.editedCells.set(t,new Map),this.editedCells.get(t).set(e,n)}}},{key:"addRow",value:function(e){this.addedRows.push(e)}},{key:"deleteRows",value:function(e){var t=this;e.sort((function(e,t){return t-e})).forEach((function(e){t.deleteRow(e)}))}},{key:"deleteRow",value:function(e){(0,g.le)(e)||e<0||(this.isAddedRow(e)?this.addedRows.splice(e-this.numRows,1):(this.deletedRows.includes(e)||(this.deletedRows.push(e),this.deletedRows=this.deletedRows.sort((function(e,t){return e-t}))),this.editedCells.delete(e)))}},{key:"getOriginalRowIndex",value:function(e){for(var t=e,n=0;n<this.deletedRows.length&&!(this.deletedRows[n]>t);n++)t+=1;return t}},{key:"getNumRows",value:function(){return this.numRows+this.addedRows.length-this.deletedRows.length}}]),e}(),Ge=n(35704);var Ue=function(){var e=(0,h.u)(),t=a.useMemo((function(){return{editable:function(e){return'<svg xmlns="http://www.w3.org/2000/svg" height="40" viewBox="0 96 960 960" width="40" fill="'.concat(e.bgColor,'"><path d="m800.641 679.743-64.384-64.384 29-29q7.156-6.948 17.642-6.948 10.485 0 17.742 6.948l29 29q6.948 7.464 6.948 17.95 0 10.486-6.948 17.434l-29 29Zm-310.64 246.256v-64.383l210.82-210.821 64.384 64.384-210.821 210.82h-64.383Zm-360-204.872v-50.254h289.743v50.254H130.001Zm0-162.564v-50.255h454.615v50.255H130.001Zm0-162.307v-50.255h454.615v50.255H130.001Z"/></svg>')}}}),[]);return{accentColor:e.colors.primary,accentFg:e.colors.white,accentLight:(0,Ge.DZ)(e.colors.primary,.9),borderColor:e.colors.fadedText05,horizontalBorderColor:e.colors.fadedText05,fontFamily:e.genericFonts.bodyFont,bgSearchResult:(0,Ge.DZ)(e.colors.primary,.9),bgIconHeader:e.colors.fadedText60,fgIconHeader:e.colors.white,bgHeader:e.colors.bgMix,bgHeaderHasFocus:e.colors.secondaryBg,bgHeaderHovered:e.colors.secondaryBg,textHeader:e.colors.fadedText60,textHeaderSelected:e.colors.white,textGroupHeader:e.colors.fadedText60,headerFontStyle:"".concat(e.fontSizes.sm),baseFontStyle:e.fontSizes.sm,editorFontSize:e.fontSizes.sm,textDark:e.colors.bodyText,textMedium:(0,Ge.DZ)(e.colors.bodyText,.2),textLight:e.colors.fadedText40,textBubble:e.colors.fadedText60,bgCell:e.colors.bgColor,bgCellMedium:e.colors.bgColor,cellHorizontalPadding:8,cellVerticalPadding:3,bgBubble:e.colors.secondaryBg,bgBubbleSelected:e.colors.secondaryBg,linkColor:e.colors.linkText,drilldownBorder:e.colors.darkenedBgMix25,tableBorderRadius:e.radii.lg,headerIcons:t}};var Xe=function(e,t,n,i){return{getCellContent:a.useCallback((function(a){var o=(0,r.Z)(a,2),l=o[0],u=o[1];if(l>t.length-1)return B("Column index out of bounds.","This should never happen. Please report this bug.");if(u>n-1)return B("Row index out of bounds.","This should never happen. Please report this bug.");var d=t[l],s=d.indexNumber,c=i.current.getOriginalRowIndex(u);if(d.isEditable||i.current.isAddedRow(c)){var f=i.current.getCell(s,c);if(void 0!==f)return f}try{return Re(d,e.getCell(c+1,s),e.cssStyles)}catch(m){return(0,ae.H)(m),B("Error during cell creation.","This should never happen. Please report this bug. \nError: ".concat(m))}}),[t,n,e,i])}},Qe=n(37753);var $e=function(e,t,n){var o=a.useState(),l=(0,r.Z)(o,2),u=l[0],d=l[1],s=(0,Qe.fF)({columns:t.map((function(e){return J(e)})),getCellContent:n,rows:e,sort:u}),c=s.getCellContent,f=s.getOriginalIndex,m=a.useMemo((function(){return function(e,t){return void 0===t?e:e.map((function(e){return e.id===t.column.id?(0,i.Z)((0,i.Z)({},e),{},{title:"asc"===t.direction?"\u2191 ".concat(e.title):"\u2193 ".concat(e.title)}):e}))}(t,u)}),[t,u]),v=a.useCallback((function(e){var t="asc",n=m[e];if(u&&u.column.id===n.id){if("asc"!==u.direction)return void d(void 0);t="desc"}d({column:J(n),direction:t,mode:n.sortMode})}),[u,m]);return{columns:m,sortColumn:v,getOriginalIndex:f,getCellContent:c}},et=n(11092),tt=n(27791),nt=n(95345),it=",",rt='"',at='"',ot="\n";function lt(e){return e.map((function(e){return function(e){if((0,g.le)(e))return"";var t=U(e);if(new RegExp("[".concat([it,rt,ot].join(""),"]")).test(t))return"".concat(rt).concat(t.replace(new RegExp(rt,"g"),at+rt)).concat(rt);return t}(e)})).join(it)+ot}var ut=function(e,t,n){return{exportToCsv:a.useCallback((0,tt.Z)((0,et.Z)().mark((function i(){var r,a,o,l,u,d,s,c;return(0,et.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return r=(new Date).toISOString().slice(0,16).replace(":","-"),a="".concat(r,"_export.csv"),i.next=4,(0,nt.Kr)({suggestedName:a,types:[{accept:{"text/csv":[".csv"]}}],excludeAcceptAllOption:!1});case 4:return o=i.sent,l=new TextEncoder,i.next=8,o.createWritable();case 8:return u=i.sent,i.next=11,u.write(l.encode("\ufeff"));case 11:return d=t.map((function(e){return e.name})),i.next=14,u.write(l.encode(lt(d)));case 14:s=(0,et.Z)().mark((function n(i){var r;return(0,et.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],t.forEach((function(t,n,a){r.push(t.getCellValue(e([n,i])))})),n.next=4,u.write(l.encode(lt(r)));case 4:case"end":return n.stop()}}),n)})),c=0;case 16:if(!(c<n)){i.next=21;break}return i.delegateYield(s(c),"t0",18);case 18:c++,i.next=16;break;case 21:return i.next=23,u.close();case 23:case"end":return i.stop()}}),i)}))),[t,n,e])}};var dt=function(e,t,n,o,l,u,d){var s=a.useCallback((function(t,a){var u=(0,r.Z)(t,2),s=u[0],c=u[1],f=e[s];if(f.isEditable){var m=f.indexNumber,v=n.current.getOriginalRowIndex(l(c)),g=o([s,c]),h=f.getCellValue(g),p=f.getCellValue(a);if(Y(g)||p!==h){var b=f.getCell(p,!0);Y(b)?(0,ae.KE)("Not applying the cell edit since it causes this error:\n ".concat(b.data)):(n.current.setCell(m,v,(0,i.Z)((0,i.Z)({},b),{},{lastUpdated:performance.now()})),d())}}}),[e,n,l,o,d]),c=a.useCallback((function(){if(!t){var i=new Map;e.forEach((function(e){i.set(e.indexNumber,e.getCell(e.defaultValue))})),n.current.addRow(i)}}),[e,n,t]),f=a.useCallback((function(){t||(c(),d())}),[c,d,t]),m=a.useCallback((function(i){var r;if(i.rows.length>0){if(t)return!0;var a=i.rows.toArray().map((function(e){return n.current.getOriginalRowIndex(l(e))}));return n.current.deleteRows(a),d(!0),!1}if(null!==(r=i.current)&&void 0!==r&&r.range){for(var o=[],c=i.current.range,f=c.y;f<c.y+c.height;f++)for(var m=c.x;m<c.x+c.width;m++){var v=e[m];v.isEditable&&!v.isRequired&&(o.push({cell:[m,f]}),s([m,f],v.getCell(null)))}return o.length>0&&(d(),u(o)),!1}return!0}),[e,n,t,u,l,d,s]),v=a.useCallback((function(a,s){for(var f=(0,r.Z)(a,2),m=f[0],v=f[1],h=[],p=0;p<s.length;p++){var b=s[p];if(p+v>=n.current.getNumRows()){if(t)break;c()}for(var y=0;y<b.length;y++){var w=b[y],x=p+v,C=y+m;if(C>=e.length)break;var Z=e[C];if(Z.isEditable){var M=Z.getCell(w,!0);if((0,g.bb)(M)&&!Y(M)){var E=Z.indexNumber,k=n.current.getOriginalRowIndex(l(x)),T=Z.getCellValue(o([C,x]));Z.getCellValue(M)!==T&&(n.current.setCell(E,k,(0,i.Z)((0,i.Z)({},M),{},{lastUpdated:performance.now()})),h.push({cell:[C,x]}))}}}h.length>0&&(d(),u(h))}return!1}),[e,n,t,l,o,c,d,u]),h=a.useCallback((function(t,n){var i=t[0];if(i>=e.length)return!0;var r=e[i];if(r.validateInput){var a=r.validateInput(r.getCellValue(n));return!0===a||!1===a?a:r.getCell(a)}return!0}),[e]);return{onCellEdited:s,onPaste:v,onRowAppended:f,onDelete:m,validateCell:h}};var st=function(e,t){var n=a.useState(),i=(0,r.Z)(n,2),o=i[0],l=i[1],u=a.useRef(null),d=a.useCallback((function(n){if(clearTimeout(u.current),u.current=0,l(void 0),("header"===n.kind||"cell"===n.kind)&&n.location){var i,r=n.location[0],a=n.location[1];if(r<0||r>=e.length)return;var o=e[r];if("header"===n.kind&&(0,g.bb)(o))i=o.help;else if("cell"===n.kind){var d=t([r,a]);o.isRequired&&o.isEditable&&P(d)?i="\u26a0\ufe0f Please fill out this cell.":function(e){return e.hasOwnProperty("tooltip")&&""!==e.tooltip}(d)&&(i=d.tooltip)}i&&(u.current=setTimeout((function(){i&&l({content:i,left:n.bounds.x+n.bounds.width/2,top:n.bounds.y})}),600))}}),[e,t,l,u]);return{tooltip:o,clearTooltip:a.useCallback((function(){l(void 0)}),[l]),onItemHovered:d}},ct=n(94379);var ft=function(e,t){var n=a.useCallback((function(n){var r=n.cell,a=n.theme,l=n.ctx,u=n.rect,d=t?n.col-1:n.col;if(P(r)&&d<e.length){var s=!1,c=e[d];return["checkbox","line_chart","bar_chart","progress"].includes(c.kind)||(!function(e){var t=e.cell,n=e.theme;(0,o.uN)((0,i.Z)((0,i.Z)({},e),{},{theme:(0,i.Z)((0,i.Z)({},n),{},{textDark:n.textLight,textMedium:n.textLight}),spriteManager:{},hyperWrapping:!1}),"None",t.contentAlign)}(n),s=!0),c.isRequired&&c.isEditable&&function(e,t,n){e.save(),e.beginPath(),e.moveTo(t.x+t.width-8,t.y+1),e.lineTo(t.x+t.width,t.y+1),e.lineTo(t.x+t.width,t.y+1+8),e.fillStyle=n.accentColor,e.fill(),e.restore()}(l,u,a),s}return!1}),[e,t]),r=(0,ct.Bn)();return{drawCell:n,customRenderers:[].concat((0,xe.Z)(r.customRenderers),(0,xe.Z)(je))}};var mt=function(e){var t=(0,a.useState)((function(){return new Map})),n=(0,r.Z)(t,2),o=n[0],l=n[1],u=a.useCallback((function(e,t,n,i){e.id&&l(new Map(o).set(e.id,i))}),[o]);return{columns:a.useMemo((function(){return e.map((function(e){return e.id&&o.has(e.id)&&void 0!==o.get(e.id)?(0,i.Z)((0,i.Z)({},e),{},{width:o.get(e.id),grow:0}):e}))}),[e,o]),onColumnResize:u}},vt=35,gt=2*vt+3;var ht=function(e,t,n,i,o){var l,u=function(e){return Math.max(e*vt+1+2,gt)}(t+1+(e.editingMode===v.Eh.EditingMode.DYNAMIC?1:0)),d=Math.min(u,400);e.height&&(d=Math.max(e.height,gt),u=Math.max(e.height,u)),i&&(d=Math.min(d,i),u=Math.min(u,i),e.height||(d=u));var s=n;e.useContainerWidth?l=n:e.width&&(l=Math.min(Math.max(e.width,52),n),s=Math.min(Math.max(e.width,s),n));var c=a.useState({width:l||"100%",height:d}),f=(0,r.Z)(c,2),m=f[0],h=f[1];return a.useLayoutEffect((function(){e.useContainerWidth&&"100%"===m.width&&h({width:n,height:m.height})}),[n]),a.useLayoutEffect((function(){h({width:m.width,height:d})}),[t]),a.useLayoutEffect((function(){h({width:l||"100%",height:m.height})}),[l]),a.useLayoutEffect((function(){h({width:m.width,height:d})}),[d]),a.useLayoutEffect((function(){if(o){var t=e.useContainerWidth||(0,g.bb)(e.width)&&e.width>0;h({width:t?s:"100%",height:u})}else h({width:l||"100%",height:d})}),[o]),{minHeight:gt,maxHeight:u,minWidth:52,maxWidth:s,resizableSize:m,setResizableSize:h}},pt=(0,k.Z)("img",{target:"e24uaba0"})((function(){return{maxWidth:"100%",maxHeight:"600px",objectFit:"scale-down"}}),""),bt=function(e){var t=e.urls,n=t&&t.length>0?t[0]:"";return n.startsWith("http")?(0,S.jsx)("a",{href:n,target:"_blank",rel:"noreferrer noopener",children:(0,S.jsx)(pt,{src:n})}):(0,S.jsx)(pt,{src:n})},yt=n(31572),wt=n(13553),xt=n(80152);var Ct=function(e){var t=e.top,n=e.left,i=e.content,o=e.clearTooltip,l=a.useState(!0),u=(0,r.Z)(l,2),d=u[0],s=u[1],c=(0,h.u)(),f=c.colors,m=c.fontSizes,v=c.radii,g=a.useCallback((function(){s(!1),o()}),[o,s]);return(0,S.jsx)(yt.Z,{content:(0,S.jsx)(xt.Uo,{className:"stTooltipContent",children:(0,S.jsx)(y.ZP,{style:{fontSize:m.sm},source:i,allowHTML:!1})}),placement:wt.r4.top,accessibilityType:wt.SI.tooltip,showArrow:!1,popoverMargin:5,onClickOutside:g,onEsc:g,overrides:{Body:{style:{borderTopLeftRadius:v.md,borderTopRightRadius:v.md,borderBottomLeftRadius:v.md,borderBottomRightRadius:v.md,paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important",backgroundColor:"transparent"}},Inner:{style:{backgroundColor:(0,T.Iy)(c)?f.bgColor:f.secondaryBg,color:f.bodyText,fontSize:m.sm,fontWeight:"normal",paddingTop:"0 !important",paddingBottom:"0 !important",paddingLeft:"0 !important",paddingRight:"0 !important"}}},isOpen:d,children:(0,S.jsx)("div",{className:"stTooltipTarget","data-testid":"stTooltipTarget",style:{position:"fixed",top:t,left:n}})})},Zt=(0,k.Z)("div",{target:"e1w7nams0"})((function(e){var t;return{position:"relative",display:"inline-block","& .glideDataEditor":{height:"100%",minWidth:"100%",borderRadius:e.theme.radii.lg},"& .dvn-scroller":(t={scrollbarWidth:"thin"},(0,E.Z)(t,"overflowX","auto !important"),(0,E.Z)(t,"overflowY","auto !important"),t)}}),"");n(2739),n(24665);var Mt=(0,m.Z)((function(e){var t=e.element,n=e.data,m=e.width,h=e.height,p=e.disabled,b=e.widgetMgr,y=e.isFullScreen,w=e.expand,x=e.collapse,C=a.useRef(null),Z=a.useRef(null),M=a.useRef(null),E=Ue(),k=a.useState(!0),T=(0,r.Z)(k,2),N=T[0],R=T[1],I=a.useState(!1),D=(0,r.Z)(I,2),A=D[0],H=D[1],V=a.useState(!1),z=(0,r.Z)(V,2),F=z[0],j=z[1],L=a.useState(!1),W=(0,r.Z)(L,2),B=W[0],Y=W[1],P=a.useMemo((function(){return window.matchMedia&&window.matchMedia("(pointer: coarse)").matches}),[]),q=a.useMemo((function(){return window.navigator.userAgent.includes("Mac OS")&&window.navigator.userAgent.includes("Safari")||window.navigator.userAgent.includes("Chrome")}),[]),K=a.useState({columns:o.EV.empty(),rows:o.EV.empty(),current:void 0}),G=(0,r.Z)(K,2),U=G[0],X=G[1],Q=a.useCallback((function(){X({columns:o.EV.empty(),rows:o.EV.empty(),current:void 0})}),[]),$=a.useCallback((function(){X({columns:U.columns,rows:U.rows,current:void 0})}),[U]),ee=a.useCallback((function(e){var t;null===(t=Z.current)||void 0===t||t.updateCells(e)}),[]);(0,g.le)(t.editingMode)&&(t.editingMode=v.Eh.EditingMode.READ_ONLY);var te=v.Eh.EditingMode,ne=te.READ_ONLY,ie=te.DYNAMIC,re=n.dimensions,ae=Math.max(0,re.rows-1),oe=0===ae&&!(t.editingMode===ie&&re.dataColumns>0),le=ae>15e4,ue=a.useRef(new Ke(ae)),de=a.useState(ue.current.getNumRows()),se=(0,r.Z)(de,2),ce=se[0],fe=se[1];a.useEffect((function(){ue.current=new Ke(ae),fe(ue.current.getNumRows())}),[ae]);var me=a.useCallback((function(){ue.current=new Ke(ae),fe(ue.current.getNumRows())}),[ae]),ve=qe(t,n,p).columns;a.useEffect((function(){if(t.editingMode!==ne){var e=b.getStringValue(t);e&&(ue.current.fromJson(e,ve),fe(ue.current.getNumRows()))}}),[]);var ge=Xe(n,ve,ce,ue).getCellContent,he=$e(ae,ve,ge),pe=he.columns,be=he.sortColumn,ye=he.getOriginalIndex,we=he.getCellContent,xe=a.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];ce!==ue.current.getNumRows()&&fe(ue.current.getNumRows()),e&&Q(),(0,g.Ds)(100,(function(){var e=ue.current.toJson(pe),i=b.getStringValue(t);void 0===i&&(i=new Ke(0).toJson([])),e!==i&&b.setStringValue(t,e,{fromUi:n})}))()}),[b,t,ce,Q,pe]),Ce=ut(we,pe,ce).exportToCsv,Ze=dt(pe,t.editingMode!==ie,ue,we,ye,ee,xe),Me=Ze.onCellEdited,Ee=Ze.onPaste,ke=Ze.onRowAppended,Te=Ze.onDelete,Ne=Ze.validateCell,Re=st(pe,we),Se=Re.tooltip,_e=Re.clearTooltip,Oe=Re.onItemHovered,Ie=ft(pe,t.editingMode===ie),De=Ie.drawCell,Ae=Ie.customRenderers,He=mt(pe.map((function(e){return J(e)}))),Ve=He.columns,ze=He.onColumnResize,Fe=ht(t,ce,m,h,y),je=Fe.minHeight,Le=Fe.maxHeight,We=Fe.minWidth,Be=Fe.maxWidth,Ye=Fe.resizableSize,Pe=Fe.setResizableSize,Je=a.useCallback((function(e){var t=(0,r.Z)(e,2);t[0],t[1];return(0,i.Z)((0,i.Z)({},function(e,t){var n=t?"faded":"normal";return{kind:o.p6.Text,data:"",displayData:"",allowOverlay:!0,readonly:e,style:n}}(!0,!1)),{},{displayData:"empty",contentAlign:"center",allowOverlay:!1,themeOverride:{textDark:E.textLight},span:[0,Math.max(pe.length-1,0)]})}),[pe,E.textLight]);a.useEffect((function(){var e=new f.K;return e.manageFormClearListener(b,t.formId,me),function(){e.disconnect()}}),[t.formId,me,b]);var Ge=!oe&&t.editingMode===ie&&!p,Qe=U.rows.length>0,et=void 0!==U.current,tt=oe?0:pe.filter((function(e){return e.isIndex})).length;return a.useEffect((function(){if(M.current){var e,t,n=null===(e=M.current)||void 0===e||null===(t=e.querySelector(".dvn-stack"))||void 0===t?void 0:t.getBoundingClientRect();n&&(j(n.height>M.current.clientHeight),Y(n.width>M.current.clientWidth))}}),[Ye,ce,Ve]),(0,S.jsxs)(Zt,{"data-testid":"stDataFrame",className:"stDataFrame",ref:M,onMouseDown:function(e){if(M.current&&q){var t=M.current.getBoundingClientRect();B&&t.height-7<e.clientY-t.top&&e.stopPropagation(),F&&t.width-7<e.clientX-t.left&&e.stopPropagation()}},onBlur:function(e){N||P||e.currentTarget.contains(e.relatedTarget)||$()},children:[(0,S.jsxs)(O,{isFullScreen:y,locked:Qe||et||P&&N,onExpand:w,onCollapse:x,target:Zt,children:[Ge&&Qe&&(0,S.jsx)(_,{label:"Delete row(s)",icon:u.H,onClick:function(){Te&&(Te(U),_e())}}),Ge&&!Qe&&(0,S.jsx)(_,{label:"Add row",icon:d.m,onClick:function(){ke&&(R(!0),ke(),_e())}}),!le&&!oe&&(0,S.jsx)(_,{label:"Download as CSV",icon:s.k,onClick:function(){return Ce()}}),!oe&&(0,S.jsx)(_,{label:"Search",icon:c.o,onClick:function(){A?H(!1):(R(!0),H(!0)),_e()}})]}),(0,S.jsx)(l.e,{"data-testid":"stDataFrameResizable",ref:C,defaultSize:Ye,style:{border:"1px solid ".concat(E.borderColor),borderRadius:"".concat(E.tableBorderRadius)},minHeight:je,maxHeight:Le,minWidth:We,maxWidth:Be,size:Ye,enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!0,bottomLeft:!1,topLeft:!1},grid:[1,vt],snapGap:vt/3,onResizeStop:function(e,t,n,i){C.current&&Pe({width:C.current.size.width,height:Le-C.current.size.height===3?C.current.size.height+3:C.current.size.height})},children:(0,S.jsx)(o.Nd,(0,i.Z)((0,i.Z)({className:"glideDataEditor",ref:Z,columns:Ve,rows:oe?1:ce,minColumnWidth:50,maxColumnWidth:1e3,maxColumnAutoWidth:500,rowHeight:vt,headerHeight:vt,getCellContent:oe?Je:we,onColumnResize:ze,freezeColumns:tt,smoothScrollX:!0,smoothScrollY:!0,verticalBorder:function(e){return!(e>=pe.length&&(t.useContainerWidth||"100%"===Ye.width))},getCellsForSelection:!0,rowMarkers:"none",rangeSelect:P?"none":"rect",columnSelect:"none",rowSelect:"none",onItemHovered:Oe,keybindings:{downFill:!0},onKeyDown:function(e){(e.ctrlKey||e.metaKey)&&"f"===e.key&&(H((function(e){return!e})),e.stopPropagation(),e.preventDefault())},showSearch:A,onSearchClose:function(){H(!1),_e()},onHeaderClicked:oe||le?void 0:be,gridSelection:U,onGridSelectionChange:function(e){(N||P)&&(X(e),void 0!==Se&&_e())},theme:E,onMouseMove:function(e){"out-of-bounds"===e.kind&&N?R(!1):"out-of-bounds"===e.kind||N||R(!0)},fixedShadowX:!0,fixedShadowY:!0,experimental:(0,i.Z)({scrollbarWidthOverride:1},q&&{paddingBottom:B?-6:void 0,paddingRight:F?-6:void 0}),drawCell:De,customRenderers:Ae,imageEditorOverride:bt,headerIcons:E.headerIcons,validateCell:Ne,onPaste:!1},!oe&&t.editingMode!==ne&&!p&&{fillHandle:!P,onCellEdited:Me,onPaste:Ee,onDelete:Te}),!oe&&t.editingMode===ie&&{trailingRowOptions:{sticky:!1,tint:!0},rowMarkerTheme:{bgCell:E.bgHeader,bgCellMedium:E.bgHeader},rowMarkers:"checkbox",rowSelectionMode:"multi",rowSelect:p?"none":"multi",onRowAppended:p?void 0:ke,onHeaderClicked:void 0}))}),Se&&Se.content&&(0,S.jsx)(Ct,{top:Se.top,left:Se.left,content:Se.content,clearTooltip:_e})]})}),!0)},87814:function(e,t,n){n.d(t,{K:function(){return o}});var i=n(22951),r=n(91976),a=n(50641),o=function(){function e(){(0,i.Z)(this,e),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}return(0,r.Z)(e,[{key:"manageFormClearListener",value:function(e,t,n){null!=this.formClearListener&&this.lastWidgetMgr===e&&this.lastFormId===t||(this.disconnect(),(0,a.bM)(t)&&(this.formClearListener=e.addFormClearedListener(t,n),this.lastWidgetMgr=e,this.lastFormId=t))}},{key:"disconnect",value:function(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}]),e}()}}]);